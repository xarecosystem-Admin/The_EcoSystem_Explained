<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>xAr — Manifesto</title>
  <meta name="description" content="xAr Manifesto — a revelation system exposing business dysfunction and the method to fix it." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@300;600;800&family=IBM+Plex+Mono:wght@300;400;600&family=IBM+Plex+Sans+Arabic:wght@400;700;800&display=swap" rel="stylesheet">
  
  <!-- External Dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/lenis@1.0.45/dist/lenis.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <style>
    /* Reset and base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      height: 100vh;
      overflow: hidden;
      background: #000;
      color: #fff;
      font-family: 'Inter Tight', sans-serif;
    }
    
    /* Preloader with infinity logo */
    .preloader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.8s ease;
    }
    
    .infinity-logo {
      width: 40px;
      height: 40px;
      opacity: 0;
      animation: infinityLogoLoad 2.5s ease-in-out forwards;
    }
    
    .infinity-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: brightness(0) invert(1);
      animation: logoPulse 2.5s ease-in-out infinite;
    }
    
    .preloader.fade-out {
      opacity: 0;
      pointer-events: none;
    }
    
    .loader-dot {
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 50%;
      animation: pulse 1.5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.3; }
      50% { transform: scale(1.5); opacity: 1; }
    }
    
    /* Hero section */
    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    /* Background layers */
    .hero__background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('Background.png') center/cover no-repeat;
      opacity: 0;
      filter: saturate(0.9) contrast(1.05) brightness(0.8);
      will-change: opacity;
    }
    
    .hero__gradient {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(0, 100, 120, 0.1) 0%, rgba(0, 0, 0, 0.95) 70%);
      opacity: 0;
      animation: fadeIn 1s ease-out 0.2s forwards;
    }
    
    
    /* Content container */
    .hero__content {
      position: relative;
      z-index: 10;
      text-align: center;
      max-width: 900px;
      padding: 0 20px;
    }
    
    /* Main title with glow effect */
    .hero__title {
      font-size: clamp(1.5rem, 4vw, 2.8rem);
      font-weight: 700;
      line-height: 1.2;
      letter-spacing: -0.01em;
      opacity: 1;
      position: relative;
      will-change: transform, opacity;
      backface-visibility: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* Enhanced glow effect */
      text-shadow: 0 0 35px rgba(255, 255, 255, 0.25),
                   0 0 70px rgba(255, 255, 255, 0.15),
                   0 0 105px rgba(0, 113, 227, 0.08),
                   0 0 140px rgba(0, 113, 227, 0.05),
                   0 0 180px rgba(0, 113, 227, 0.03);
    }
    
    /* Typing effect */
    .hero__title.typing {
      border-right: 2px solid rgba(255, 255, 255, 0.3);
      animation: typingCursor 1s infinite;
      /* Enhanced glow during typing */
      text-shadow: 0 0 55px rgba(255, 255, 255, 0.35),
                   0 0 110px rgba(255, 255, 255, 0.25),
                   0 0 165px rgba(0, 113, 227, 0.15),
                   0 0 220px rgba(0, 113, 227, 0.08),
                   0 0 280px rgba(0, 113, 227, 0.05);
    }
    
    /* Arabic text support */
    .hero__title--ar {
      font-family: 'IBM Plex Sans Arabic', 'Inter Tight', sans-serif;
      direction: rtl;
    }
    
    /* Scroll indicator */
    .scroll-indicator {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      animation: fadeIn 0.8s ease-out 4s forwards;
    }
    
    .scroll-arrow {
      width: 24px;
      height: 24px;
      border: 2px solid rgba(255, 255, 255, 0.4);
      border-top: none;
      border-right: none;
      transform: rotate(-45deg);
      animation: bounce 2s infinite;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .hero__content {
        padding: 0 15px;
      }
    }
    
    /* Matrix Navigation System */
    .matrix-nav {
      position: fixed;
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 1200px;
      height: 60px;
      z-index: 1000;
      opacity: 0;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    .matrix-nav.visible {
      top: 20px;
      opacity: 1;
      pointer-events: all;
    }

    .nav-container {
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(38, 255, 97, 0.2);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      position: relative;
      overflow: hidden;
    }

    .nav-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(38, 255, 97, 0.1), transparent);
      animation: scanline 3s linear infinite;
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Courier New', Monaco, monospace;
      color: #26FF61;
      font-weight: bold;
      font-size: 14px;
      z-index: 1;
    }

    .infinity-glyph {
      font-size: 16px;
      color: #FFD700;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      animation: pulse-glyph 2s ease-in-out infinite;
    }

    .nav-code {
      color: #26FF61;
      text-shadow: 0 0 5px rgba(38, 255, 97, 0.3);
    }

    .nav-context {
      display: flex;
      gap: 20px;
      align-items: center;
      z-index: 1;
    }

    .context-item {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 6px;
      background: rgba(38, 255, 97, 0.05);
      border: 1px solid rgba(38, 255, 97, 0.1);
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Courier New', Monaco, monospace;
      font-size: 11px;
      color: #F2F2F2;
      opacity: 0.7;
    }

    .context-item:hover {
      background: rgba(38, 255, 97, 0.1);
      border-color: rgba(38, 255, 97, 0.3);
      opacity: 1;
      transform: translateY(-1px);
    }

    .context-item.active {
      background: rgba(38, 255, 97, 0.15);
      border-color: #26FF61;
      opacity: 1;
      box-shadow: 0 0 15px rgba(38, 255, 97, 0.2);
    }

    .glyph {
      color: #26FF61;
      font-weight: bold;
      font-size: 12px;
    }

    .context-text {
      color: #F2F2F2;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .context-ar {
      color: #F2F2F2;
      font-family: 'Droid Arabic Naskh', sans-serif;
      font-size: 10px;
      opacity: 0.8;
    }

    .nav-terminal {
      display: flex;
      align-items: center;
      gap: 6px;
      font-family: 'Courier New', Monaco, monospace;
      font-size: 11px;
      color: #F2F2F2;
      z-index: 1;
      opacity: 0.8;
    }

    .terminal-prompt {
      color: #26FF61;
      font-weight: bold;
    }

    .terminal-text {
      color: #F2F2F2;
      text-shadow: 0 0 3px rgba(242, 242, 242, 0.2);
    }

    /* Matrix Animations */
    @keyframes scanline {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }

    @keyframes pulse-glyph {
      0%, 100% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.7;
        transform: scale(1.1);
      }
    }

    /* Animations */
    @keyframes infinityLogoLoad {
      0% {
        opacity: 0;
        filter: brightness(0) invert(1) blur(3px) drop-shadow(0 0 0px rgba(255, 255, 255, 0));
      }
      20% {
        opacity: 0.2;
        filter: brightness(0) invert(1) blur(2px) drop-shadow(0 0 5px rgba(255, 255, 255, 0.2));
      }
      40% {
        opacity: 0.5;
        filter: brightness(0) invert(1) blur(1px) drop-shadow(0 0 15px rgba(255, 255, 255, 0.4));
      }
      60% {
        opacity: 0.8;
        filter: brightness(0) invert(1) blur(0.5px) drop-shadow(0 0 30px rgba(255, 255, 255, 0.6));
      }
      80% {
        opacity: 1;
        filter: brightness(0) invert(1) blur(0px) drop-shadow(0 0 60px rgba(255, 255, 255, 0.8));
      }
      100% {
        opacity: 1;
        filter: brightness(0) invert(1) blur(0px) drop-shadow(0 0 120px rgba(255, 255, 255, 1));
      }
    }
    
    @keyframes logoPulse {
      0%, 100% {
        opacity: 1;
        filter: brightness(0) invert(1) drop-shadow(0 0 0px rgba(255, 255, 255, 0));
      }
      50% {
        opacity: 1;
        filter: brightness(0) invert(1) drop-shadow(0 0 0px rgba(255, 255, 255, 0));
      }
    }
    
    @keyframes backgroundFadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 0.75;
      }
    }
    
    
    @keyframes heartbeatFade {
      0%, 100% {
        opacity: 0.75;
        transform: scale(1);
      }
      50% {
        opacity: 0.72;
        transform: scale(1.005);
      }
    }
    
    @keyframes typingCursor {
      0%, 50% {
        border-right-color: rgba(255, 255, 255, 0.3);
      }
      51%, 100% {
        border-right-color: transparent;
      }
    }
    
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) rotate(-45deg);
      }
      40% {
        transform: translateY(-10px) rotate(-45deg);
      }
      60% {
        transform: translateY(-5px) rotate(-45deg);
      }
    }
  </style>
</head>
<body>
  <!-- Preloader with Infinity Logo -->
  <div class="preloader" id="preloader">
    <div class="infinity-logo">
      <img src="icons8-infinity-100.png" alt="Infinity Logo">
    </div>
  </div>
  
  <!-- Matrix Navigation System -->
  <nav class="matrix-nav" id="matrixNav">
    <div class="nav-container">
      <div class="nav-logo">
        <span class="infinity-glyph">∞</span>
        <span class="nav-code">xAr</span>
      </div>
      <div class="nav-context">
        <div class="context-item active" data-page="code">
          <span class="glyph">*</span>
          <span class="context-text">THE CODE</span>
          <span class="context-ar">الشيفرة</span>
        </div>
        <div class="context-item" data-page="system">
          <span class="glyph">∎</span>
          <span class="context-text">THE SYSTEM</span>
          <span class="context-ar">المنظومة</span>
        </div>
        <div class="context-item" data-page="resistance">
          <span class="glyph">⚡</span>
          <span class="context-text">THE RESISTANCE</span>
          <span class="context-ar">المقاومة</span>
        </div>
        <div class="context-item" data-page="proof">
          <span class="glyph">✓</span>
          <span class="context-text">PROOF</span>
          <span class="context-ar">الدليل</span>
        </div>
        <div class="context-item" data-page="future">
          <span class="glyph">X</span>
          <span class="context-text">THE FUTURE</span>
          <span class="context-ar">المستقبل</span>
        </div>
      </div>
      <div class="nav-terminal">
        <span class="terminal-prompt">&gt;</span>
        <span class="terminal-text">github.com/xArEcosystem</span>
      </div>
    </div>
  </nav>
  
  <!-- Hero Section -->
  <main class="hero">
    <!-- Animated Background -->
    <div class="hero__background"></div>
    <div class="hero__gradient"></div>
    
    <!-- Content -->
    <div class="hero__content">
      <h1 class="hero__title" id="cinematicTitle"></h1>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
      <div class="scroll-arrow"></div>
    </div>
  </main>
  
  <script>
    class CinematicIntro {
      constructor() {
        this.title = document.getElementById('cinematicTitle');
        this.preloader = document.getElementById('preloader');
        
        this.titles = [
          { text: 'NOT A TOOL. NOT A SYSTEM.', lang: 'en', dir: 'ltr' },
          { text: 'ليست أداة. ليست نظامًا', lang: 'ar', dir: 'rtl' },
          { text: 'НЕ ИНСТРУМЕНТ. НЕ СИСТЕМА.', lang: 'ru', dir: 'ltr' },
          { text: '不是工具。不是系统。', lang: 'zh', dir: 'ltr' },
          { text: 'PAS UN OUTIL. PAS UN SYSTÈME.', lang: 'fr', dir: 'ltr' },
          { text: 'NO ES UNA HERRAMIENTA. NO ES UN SISTEMA.', lang: 'es', dir: 'ltr' }
        ];
        
        this.currentIndex = 0;
        this.isTyping = false;
        
        this.init();
      }
      
      init() {
        // Start the cinematic sequence
        this.startInfinityAnimation();
        setTimeout(() => this.hidePreloader(), 2800); // Hide after loading animation
        setTimeout(() => this.startBackgroundAnimation(), 3000);
        setTimeout(() => this.startCinematicSequence(), 4500); // Start text after background settles
      }
      
      hidePreloader() {
        this.preloader.classList.add('fade-out');
        setTimeout(() => {
          this.preloader.style.display = 'none';
        }, 500);
      }
      
      startInfinityAnimation() {
        // Infinity logo animation is handled by CSS
        // No additional JavaScript needed
      }
      
      startBackgroundAnimation() {
        // Animate background opacity to 75%
        const background = document.querySelector('.hero__background');
        background.style.animation = 'backgroundFadeIn 2s ease-in-out forwards, heartbeatFade 20s ease-in-out 2s infinite';
      }
      
      startCinematicSequence() {
        // Type the first title immediately
        this.typeText(this.titles[0].text, () => {
          // Start the rotation after first title is typed
          setTimeout(() => {
            this.changeTitle();
            setInterval(() => this.changeTitle(), 5000); // 5 seconds between titles
          }, 2000);
        });
      }
      
      typeText(text, callback) {
        if (this.isTyping) return;
        this.isTyping = true;
        
        this.title.textContent = '';
        this.title.classList.add('typing');
        
        let charIndex = 0;
        const typingSpeed = 120; // milliseconds per character
        
        const typeChar = () => {
          if (charIndex < text.length) {
            this.title.textContent += text.charAt(charIndex);
            charIndex++;
            setTimeout(typeChar, typingSpeed);
          } else {
            setTimeout(() => {
              this.title.classList.remove('typing');
              this.isTyping = false;
              if (callback) callback();
            }, 1000); // Pause before removing cursor
          }
        };
        typeChar();
      }
      
      changeTitle() {
        if (this.isTyping) return;
        
        const nextIndex = (this.currentIndex + 1) % this.titles.length;
        const nextTitle = this.titles[nextIndex];
        
        // Set language and direction attributes
        this.title.setAttribute('dir', nextTitle.dir);
        this.title.setAttribute('lang', nextTitle.lang);
        
        if (nextTitle.lang === 'ar') {
          this.title.classList.add('hero__title--ar');
        } else {
          this.title.classList.remove('hero__title--ar');
        }
        
        // Type the next title directly
        this.typeText(nextTitle.text, () => {
          this.currentIndex = nextIndex;
        });
      }
    }
    
    // Matrix Navigation System
    class MatrixNavigation {
      constructor() {
        this.nav = document.getElementById('matrixNav');
        this.contextItems = document.querySelectorAll('.context-item');
        this.lastScrollTop = 0;
        this.scrollThreshold = 100; // Show nav after scrolling 100px
        this.hideThreshold = 50; // Hide nav when scrolling back up 50px
        
        this.init();
      }
      
      init() {
        // Add scroll event listener
        window.addEventListener('scroll', this.handleScroll.bind(this));
        
        // Add click handlers for context items
        this.contextItems.forEach(item => {
          item.addEventListener('click', this.handleContextClick.bind(this));
        });
        
        // Initial state check
        this.handleScroll();
      }
      
      handleScroll() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > this.scrollThreshold) {
          // Show navigation when scrolling down past threshold
          this.nav.classList.add('visible');
        } else if (scrollTop < this.hideThreshold) {
          // Hide navigation when scrolling back to top
          this.nav.classList.remove('visible');
        }
        
        this.lastScrollTop = scrollTop;
      }
      
      handleContextClick(event) {
        const clickedItem = event.currentTarget;
        const page = clickedItem.dataset.page;
        
        // Remove active class from all items
        this.contextItems.forEach(item => {
          item.classList.remove('active');
        });
        
        // Add active class to clicked item
        clickedItem.classList.add('active');
        
        // Handle navigation based on page
        this.navigateToPage(page);
      }
      
      navigateToPage(page) {
        // For now, just log the navigation. In a real app, this would handle routing
        console.log(`Navigating to: ${page}`);
        
        // Add visual feedback
        const activeItem = document.querySelector(`[data-page="${page}"]`);
        if (activeItem) {
          // Add a brief pulse effect
          activeItem.style.transform = 'scale(1.05)';
          setTimeout(() => {
            activeItem.style.transform = '';
          }, 200);
        }
      }
    }
    
    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      new CinematicIntro();
      new MatrixNavigation();
    });
    
    // Smooth scroll behavior for scroll indicator (if needed)
    document.querySelector('.scroll-indicator').addEventListener('click', () => {
      // Add scroll behavior here when more sections are added
      console.log('Scroll to next section');
    });
  </script>
</body>
</html>